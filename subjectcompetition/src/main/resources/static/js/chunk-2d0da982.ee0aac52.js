(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da982"],{"6bee":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"admin_apply"}},[a("el-card",[a("el-tabs",{model:{value:e.applyType,callback:function(t){e.applyType=t},expression:"applyType"}},[a("el-tab-pane",{attrs:{label:"参加竞赛申请",name:"collegeJoinComp"}},[a("el-tabs",{attrs:{"tab-position":e.tabPosition},model:{value:e.activeApply,callback:function(t){e.activeApply=t},expression:"activeApply"}},[a("el-tab-pane",{attrs:{label:"未处理",name:"未处理"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.undoApplyList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.applyDate?"":"el-icon-time"}),e._v("\n                  "+e._s(e._f("dataTime")(t.row.applyDate))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                  "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"college.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"同意申请",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check",circle:""},on:{click:function(a){return e.applyComp(t.row.id)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"驳回申请",placement:"top"}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-circle-close",circle:""},on:{click:function(a){return e.refuseComp(t.row.id)}}})],1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"已处理",name:"已处理"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.doneApplyList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.applyDate?"":"el-icon-time"}),e._v("\n                  "+e._s(e._f("dataTime")(t.row.applyDate))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                  "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"college.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{prop:"applyOrJoin",label:"处理情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:2==t.row.applyOrJoin?"danger":"success"}},[a("span",{domProps:{textContent:e._s(3==t.row.applyOrJoin?"申请同意":"申请驳回")}})])]}}])})],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"添加竞赛申请",name:"collegeAddComp"}},[a("el-tabs",{attrs:{"tab-position":e.tabPosition},model:{value:e.activeApply2,callback:function(t){e.activeApply2=t},expression:"activeApply2"}},[a("el-tab-pane",{attrs:{label:"未处理",name:"未处理"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.undoAddList}},[a("el-table-column",{attrs:{label:"#",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"updateApplyDate",label:"最新申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                  "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"college.nickname",label:"申请人"}}),a("el-table-column",{attrs:{align:"center",prop:"comp.compName",label:"申请添加竞赛"}}),a("el-table-column",{attrs:{align:"center",label:"查看详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(a){return e.checkComp(t.row.comp.id)}}},[a("i",{staticClass:"el-icon-view el-icon--right"}),e._v(" 竞赛详情")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"同意申请",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check",circle:""},on:{click:function(a){return e.applyAddCommp(t.row.id)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"驳回申请",placement:"top"}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-circle-close",circle:""},on:{click:function(a){return e.refuseAddComp(t.row.id)}}})],1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"已处理",name:"已处理"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.doneAddList}},[a("el-table-column",{attrs:{align:"center",label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"updateApplyDate",label:"最新申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                  "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"college.nickname",label:"申请人"}}),a("el-table-column",{attrs:{align:"center",prop:"comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{align:"center",label:"查看详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(a){return e.checkComp(t.row.comp.id)}}},[a("i",{staticClass:"el-icon-view el-icon--right"}),e._v(" 竞赛详情")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"applyOrJoin",label:"处理情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:5==t.row.applyOrJoin?"success":"danger"}},[a("span",{domProps:{textContent:e._s(5==t.row.applyOrJoin?"申请同意":"申请驳回")}})])]}}])})],1)],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"竞赛详情列表",width:"70%",visible:e.compInfoVisiable},on:{"update:visible":function(t){e.compInfoVisiable=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.compInfo,stripe:"",border:"","max-height":"500"}},[a("el-table-column",{attrs:{align:"center",label:"竞赛名",prop:"compName"}}),a("el-table-column",{attrs:{align:"center",prop:"level",label:"级 别",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.level?a("p",[e._v("国家级")]):e._e(),1==t.row.level?a("p",[e._v("省级")]):e._e(),2==t.row.level?a("p",[e._v("校级")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"可申请时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.canApplyTime?"":"el-icon-time"}),e._v("\n          "+e._s(e._f("dataTime")(t.row.canApplyTime))+"\n        ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"截止申请时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.notApplyTime?"":"el-icon-time"}),e._v("\n          "+e._s(e._f("dataTime")(t.row.notApplyTime))+"\n        ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"比赛时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.occurrenceTime?"":"el-icon-time"}),e._v("\n          "+e._s(e._f("dataTime")(t.row.occurrenceTime))+"\n        ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"place",label:"竞赛地点",sortable:""}}),a("el-table-column",{attrs:{align:"center",prop:"organizer",label:"主办方",sortable:""}})],1)],1)],1)},n=[],o=a("56d7"),i={inject:["reload"],name:"admin_apply",data:function(){return{compInfo:[],compInfoVisiable:!1,applyType:"collegeJoinComp",tabPosition:"left",activeApply:"未处理",activeApply2:"未处理",undoApplyList:[],doneApplyList:[],undoAddList:[],doneAddList:[],time1:"",time2:"",time3:"",time4:""}},mounted:function(){this.displayUndoApplyList(),this.displayDoneApplyList(),this.displayUndoAddCompList(),this.displayDoneAddCompList(),this.time1=setInterval(this.displayUndoApplyList,1500),this.time2=setInterval(this.displayDoneApplyList,1500),this.time3=setInterval(this.displayUndoAddCompList,1500),this.time4=setInterval(this.displayDoneAddCompList,1500)},methods:{displayUndoApplyList:function(){var e=this;e.$axios.post(o["default"]+"/admin/getUndoApplyCompList").then((function(t){e.undoApplyList=t.data}))},displayDoneApplyList:function(){var e=this;e.$axios.post(o["default"]+"/admin/getDoneApplyCompList").then((function(t){e.doneApplyList=t.data}))},applyComp:function(e){var t=this;t.$axios.get(o["default"]+"/admin/applyComp/"+e).then((function(e){t.$message({message:e.data.message,type:200==e.data.code?"success":"error"}),t.displayUndoApplyList()}))},refuseComp:function(e){var t=this;t.$axios.get(o["default"]+"/admin/refuseComp/"+e).then((function(e){t.$message({message:e.data.message,type:200==e.data.code?"success":"error"}),t.displayDoneApplyList()}))},displayUndoAddCompList:function(){var e=this;e.$axios.get(o["default"]+"/admin/getUndoAddCompList").then((function(t){e.undoAddList=t.data}))},displayDoneAddCompList:function(){var e=this;e.$axios.get(o["default"]+"/admin/getDoneAddCompList").then((function(t){e.doneAddList=t.data}))},checkComp:function(e){var t=this;t.compInfoVisiable=!0,t.$axios.get(o["default"]+"/admin/checkComp/"+e).then((function(e){t.compInfo=e.data}))},applyAddCommp:function(e){var t=this;t.$axios.get(o["default"]+"/admin/applyAddCommp/"+e).then((function(e){t.$message({type:200==e.data.code?"success":"error",message:e.data.message})}))},refuseAddComp:function(e){var t=this;t.$axios.get(o["default"]+"/admin/refuseAddComp/"+e).then((function(e){t.$message({type:200==e.data.code?"success":"error",message:e.data.message})}))}},filters:{dataTime:function(e){if(void 0==e)return"-";if(e=new Date(e),e instanceof Date){var t=e,a=t.getFullYear(),l=t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate(),o=a+"年"+l+"月 "+n+"日";return o}return"-"}},beforeDestroy:function(){clearInterval(this.time1),clearInterval(this.time2),clearInterval(this.time3),clearInterval(this.time4)}},s=i,p=a("2877"),r=Object(p["a"])(s,l,n,!1,null,"838c87f6",null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0da982.ee0aac52.js.map