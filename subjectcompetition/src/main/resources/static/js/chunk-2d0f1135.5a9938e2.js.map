{"version":3,"sources":["webpack:///./src/views/teacher/teacher_project.vue?eb0c","webpack:///src/views/teacher/teacher_project.vue","webpack:///./src/views/teacher/teacher_project.vue?6a5f","webpack:///./src/views/teacher/teacher_project.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","slot","_v","on","$event","导出为Excel","ref","searchProjects","model","value","callback","$$v","$set","expression","_l","item","key","id","compName","findProjectInCollege","checkAll","staticClass","projectData","scopedSlots","_u","fn","scope","_s","$index","showProjectInfo","row","projectName","comp","compState","_e","createByTeacher","nickname","applyState","teacherId","teacherApplyJoinProject","dialogTableVisible","studentData","projectVisible","projectInfo","countStudent","maxCountStudent","countTeacher","maxCountTeacher","pay","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0f1135.5a9938e2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"college_project\"}},[_c('el-card',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":8}},[_c('span',{staticStyle:{\"font-size\":\"26px\"}},[_vm._v(\"项目列表\")])]),_c('el-col',{attrs:{\"span\":16}},[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.导出为Excel()}}},[_vm._v(\"导出为Excel\")])],1)],1)],1),_c('div',[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-form',{ref:\"searchProjects\",attrs:{\"model\":_vm.searchProjects,\"label-width\":\"80px\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.searchProjects.projectName),callback:function ($$v) {_vm.$set(_vm.searchProjects, \"projectName\", $$v)},expression:\"searchProjects.projectName\"}})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"所属竞赛\",\"prop\":\"suoshujingsai\"}},[_c('el-select',{attrs:{\"placeholder\":\"所属竞赛\"},model:{value:(_vm.searchProjects.compId),callback:function ($$v) {_vm.$set(_vm.searchProjects, \"compId\", $$v)},expression:\"searchProjects.compId\"}},[_vm._l((_vm.allComp),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.compName,\"value\":item.id}})}),_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}})],2)],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"审核状态\",\"prop\":\"zhuangtai\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择项目状态\"},model:{value:(_vm.searchProjects.applyState),callback:function ($$v) {_vm.$set(_vm.searchProjects, \"applyState\", $$v)},expression:\"searchProjects.applyState\"}},[_c('el-option',{attrs:{\"label\":\"未审核\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"审核通过\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"审核驳回\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}})],1)],1)],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.findProjectInCollege()}}},[_vm._v(\"筛选 / 查询\")])],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.checkAll()}}},[_vm._v(\"查看全部\")])],1)],1)],1)],1),_c('div',[_c('el-table',{staticClass:\"elTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"竞赛项目列表\",\"data\":_vm.projectData,\"stripe\":\"\",\"border\":\"\",\"height\":\"560px\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"项目编号\",\"width\":\"80px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.$index + 1)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"项目名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"size\":\"mini\",\"content\":\"点击查看项目信息\",\"placement\":\"top-end\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showProjectInfo(scope.row.id)}}},[_vm._v(_vm._s(scope.row.projectName))])],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"comp.compName\",\"label\":\"所属竞赛\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"comp.compState\",\"label\":\"所属竞赛状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"effect\":\"dark\",\"type\":scope.row.comp.compState === 0 ? 'info' :       /*规划中*/\n            (scope.row.comp.compState === 1 ? 'primary':       /*可报名*/\n            (scope.row.comp.compState === 2 ? 'success':       /*备赛中*/\n            (scope.row.comp.compState === 3 ? 'warning':       /*比赛中*/\n            'danger'))),\"disable-transitions\":\"\"}},[(scope.row.comp.compState==0)?_c('span',[_vm._v(\"规划中\")]):_vm._e(),(scope.row.comp.compState==1)?_c('span',[_vm._v(\"报名中\")]):_vm._e(),(scope.row.comp.compState==2)?_c('span',[_vm._v(\"备赛中\")]):_vm._e(),(scope.row.comp.compState==3)?_c('span',[_vm._v(\"比赛中\")]):_vm._e(),(scope.row.comp.compState==4)?_c('span',[_vm._v(\"已结束\")]):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指导老师\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.createByTeacher.nickname))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"pay\",\"label\":\"预算\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyState\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.applyState == 0)?_c('el-tag',{attrs:{\"type\":\"danger\",\"disable-transitions\":\"\"}},[_vm._v(\"审核未通过\")]):_vm._e(),(scope.row.applyState == 1)?_c('el-tag',{attrs:{\"type\":scope.row.applyState === 1 ? 'success' : 'warning',\"disable-transitions\":\"\"}},[_vm._v(\"审核已通过\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"115px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.createByTeacher.id == _vm.teacherId)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\"领队项目\")]):_vm._e(),(scope.row.createByTeacher.id != _vm.teacherId)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.teacherApplyJoinProject(scope.row.id)}}},[_vm._v(\"申请加入\")]):_vm._e()]}}])})],1)],1)]),_c('el-dialog',{attrs:{\"title\":\"项目成员\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-table',{attrs:{\"data\":_vm.studentData}},[_c('el-table-column',{attrs:{\"property\":\"id\",\"label\":\"#\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"property\":\"studentNumber\",\"label\":\"学号\"}}),_c('el-table-column',{attrs:{\"property\":\"name\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"property\":\"sex\",\"label\":\"性别\"}}),_c('el-table-column',{attrs:{\"property\":\"age\",\"label\":\"年龄\"}}),_c('el-table-column',{attrs:{\"property\":\"zhuanye\",\"label\":\"所学专业\"}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"项目信息\",\"visible\":_vm.projectVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.projectVisible=$event}}},[_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"data\":_vm.projectInfo}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"项目编号\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"projectName\",\"label\":\"项目名称\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"comp.compName\",\"label\":\"所属竞赛\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"参与学生人数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.countStudent<scope.row.comp.maxCountStudent)?_c('span',[_vm._v(_vm._s(scope.row.countStudent)+\"人\")]):_vm._e(),(scope.row.countStudent>=scope.row.comp.maxCountStudent)?_c('span',[_vm._v(_vm._s(scope.row.countStudent)+\"人(满员)\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"参与教师人数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.countTeacher<scope.row.comp.maxCountTeacher)?_c('span',[_vm._v(_vm._s(scope.row.countTeacher)+\"人\")]):_vm._e(),(scope.row.countTeacher>=scope.row.comp.maxCountTeacher)?_c('span',[_vm._v(_vm._s(scope.row.countTeacher)+\"人(满员)\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createByTeacher.nickname\",\"label\":\"指导老师\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createByTeacher.username\",\"label\":\"指导老师用户名\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"预算\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.pay)+\"元\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"college_project\">\r\n    <el-card style=\"    margin-bottom: 20px;\">\r\n      <div slot=\"header\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"8\">\r\n            <span style=\"font-size: 26px;\">项目列表</span>\r\n          </el-col>\r\n          <el-col :span=\"16\">\r\n            <el-button type=\"text\" style=\"float:right;\" @click=\"导出为Excel()\">导出为Excel</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <div>\r\n        <el-row :gutter=\"10\">\r\n          <el-form ref=\"searchProjects\" :model=\"searchProjects\" label-width=\"80px\">\r\n            <el-col :span=\"4\">\r\n              <el-form-item label=\"项目名称\" prop=\"name\">\r\n                <el-input v-model=\"searchProjects.projectName\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"4\">\r\n              <el-form-item label=\"所属竞赛\" prop=\"suoshujingsai\">\r\n                <el-select v-model=\"searchProjects.compId\" placeholder=\"所属竞赛\">\r\n                  <el-option v-for=\"item in allComp\"\r\n                             :key=\"item.id\"\r\n                             :label=\"item.compName\"\r\n                             :value=\"item.id\">\r\n                  </el-option>\r\n                  <el-option label=\"全部\" value></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"4\">\r\n              <el-form-item label=\"审核状态\" prop=\"zhuangtai\">\r\n                <el-select v-model=\"searchProjects.applyState\" placeholder=\"请选择项目状态\">\r\n                  <el-option label=\"未审核\" value=0></el-option>\r\n                  <el-option label=\"审核通过\" value=1></el-option>\r\n                  <el-option label=\"审核驳回\" value=2></el-option>\r\n                  <el-option label=\"全部\" value></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"3\">\r\n              <el-button\r\n                      type=\"primary\"\r\n                      size=\"medium\"\r\n                      icon=\"el-icon-search\"\r\n                      style=\"float: right;\"\r\n                      @click=\"findProjectInCollege()\"\r\n              >筛选 / 查询</el-button>\r\n            </el-col>\r\n            <el-col :span=\"4\">\r\n              <el-button\r\n                      type=\"primary\"\r\n                      size=\"medium\"\r\n                      icon=\"el-icon-search\"\r\n                      style=\"float: right;\"\r\n                      @click=\"checkAll()\"\r\n              >查看全部</el-button>\r\n            </el-col>\r\n          </el-form>\r\n        </el-row>\r\n      </div>\r\n      <div>\r\n        <el-table\r\n                id=\"竞赛项目列表\"\r\n                class=\"elTable\"\r\n                :data=\"projectData\"\r\n                stripe\r\n                border\r\n                height=\"560px\"\r\n                style=\"width: 100%\"\r\n        >\r\n          <el-table-column align=\"center\"  label=\"项目编号\" width=\"80px\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.$index + 1}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\"  label=\"项目名称\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" size=\"mini\" content=\"点击查看项目信息\" placement=\"top-end\">\r\n                <el-button type=\"text\" @click=\"showProjectInfo(scope.row.id)\">{{scope.row.projectName}}</el-button>\r\n              </el-tooltip>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" prop=\"comp.compName\" label=\"所属竞赛\"></el-table-column>\r\n          <el-table-column align=\"center\" prop=\"comp.compState\" label=\"所属竞赛状态\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag  effect=\"dark\"\r\n                       :type=\"scope.row.comp.compState === 0 ? 'info' :       /*规划中*/\r\n              (scope.row.comp.compState === 1 ? 'primary':       /*可报名*/\r\n              (scope.row.comp.compState === 2 ? 'success':       /*备赛中*/\r\n              (scope.row.comp.compState === 3 ? 'warning':       /*比赛中*/\r\n              'danger')))\"\r\n                       disable-transitions\r\n              >\r\n                <span v-if=\"scope.row.comp.compState==0\">规划中</span>\r\n                <span v-if=\"scope.row.comp.compState==1\">报名中</span>\r\n                <span v-if=\"scope.row.comp.compState==2\">备赛中</span>\r\n                <span v-if=\"scope.row.comp.compState==3\">比赛中</span>\r\n                <span v-if=\"scope.row.comp.compState==4\">已结束</span>\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\"  label=\"指导老师\" width=\"120px\"><!--prop=\"createByTeacher.nickName\"-->\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.createByTeacher.nickname}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" prop=\"pay\" label=\"预算\"></el-table-column>\r\n          <el-table-column align=\"center\" prop=\"applyState\" label=\"状态\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag v-if=\"scope.row.applyState == 0\" type=\"danger\" disable-transitions>审核未通过</el-tag>\r\n              <el-tag v-if=\"scope.row.applyState == 1\" :type=\"scope.row.applyState === 1 ? 'success' : 'warning'\" disable-transitions>审核已通过</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"操作\" width=\"115px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                      v-if=\"scope.row.createByTeacher.id == teacherId\"\r\n                      size=\"mini\"\r\n                      type=\"primary\"\r\n                     disabled\r\n              >领队项目</el-button>\r\n              <el-button\r\n                      v-if=\"scope.row.createByTeacher.id != teacherId\"\r\n                      size=\"mini\"\r\n                      type=\"primary\"\r\n                      @click=\"teacherApplyJoinProject(scope.row.id)\"\r\n              >申请加入</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </el-card>\r\n    <!-- 学生列表模态框 -->\r\n    <el-dialog title=\"项目成员\" :visible.sync=\"dialogTableVisible\">\r\n      <el-table :data=\"studentData\">\r\n        <el-table-column property=\"id\" label=\"#\" width=\"50\"></el-table-column>\r\n        <el-table-column property=\"studentNumber\" label=\"学号\"></el-table-column>\r\n        <el-table-column property=\"name\" label=\"姓名\"></el-table-column>\r\n        <el-table-column property=\"sex\" label=\"性别\"></el-table-column>\r\n        <el-table-column property=\"age\" label=\"年龄\"></el-table-column>\r\n        <el-table-column property=\"zhuanye\" label=\"所学专业\"></el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n    <!-- 竞赛项目展示模态框 -->\r\n    <el-dialog title=\"项目信息\" :visible.sync=\"projectVisible\" width=\"70%\">\r\n      <el-table  stripe border :data=\"projectInfo\" >\r\n        <el-table-column align=\"center\" label=\"项目编号\" prop=\"id\" ></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"projectName\" label=\"项目名称\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"comp.compName\" label=\"所属竞赛\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"参与学生人数\" >\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.countStudent<scope.row.comp.maxCountStudent\">{{scope.row.countStudent}}人</span>\r\n            <span v-if=\"scope.row.countStudent>=scope.row.comp.maxCountStudent\">{{scope.row.countStudent}}人(满员)</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"参与教师人数\" >\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.countTeacher<scope.row.comp.maxCountTeacher\">{{scope.row.countTeacher}}人</span>\r\n            <span v-if=\"scope.row.countTeacher>=scope.row.comp.maxCountTeacher\">{{scope.row.countTeacher}}人(满员)</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"createByTeacher.nickname\" label=\"指导老师\" ></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"createByTeacher.username\" label=\"指导老师用户名\" ></el-table-column>\r\n        <el-table-column align=\"center\" label=\"预算\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{scope.row.pay}}元</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import api from '../../main.js'\r\n  import { exportExcel } from \"../../assets/js/utils.js\";\r\n  export default {\r\n    inject:['reload'],\r\n    name: \"college_project\",\r\n    data() {\r\n      return {\r\n        allComp:[],\r\n        teacherId:\"\",\r\n        projectVisible:false,\r\n        dialogTableVisible: false,\r\n        projectInfo:[],\r\n        studentData: [],\r\n        projectData: [],\r\n        searchProjects: {\r\n          projectName:\"\",\r\n          compId:\"\",\r\n          applyState:\"\",\r\n        }\r\n      };\r\n    },\r\n    mounted() {\r\n      this.getAllComp();\r\n      this.teacherId=this.$store.state.id;\r\n      this.getProjectData();\r\n    },\r\n    methods: {\r\n      getAllComp(){\r\n        let that=this;\r\n        that.$axios\r\n        .post(api+`/comp/getAllComps`)\r\n        .then(function (response) {\r\n          that.allComp=response.data;\r\n        })\r\n      },\r\n      /**\r\n       * 得到院系所有的项目\r\n       */\r\n      getProjectData() {\r\n        let that = this;\r\n        this.$axios\r\n        .get(api+`/teacher/getProjectByCollegeWithTeacher/`+that.teacherId)\r\n        .then(function(response) {\r\n          that.projectData = response.data;\r\n        })\r\n        .catch(function(error) {\r\n          console.error(error);\r\n        });\r\n      },\r\n      checkAll(){\r\n        let that=this;\r\n        that.reload();\r\n      },\r\n      findProjectInCollege() {\r\n        let that = this;\r\n        let searchForm=new FormData();\r\n        searchForm.append(\"projectName\",that.searchProjects.projectName);\r\n        searchForm.append(\"comp.id\",that.searchProjects.compId);\r\n        searchForm.append(\"applyState\",that.searchProjects.applyState);\r\n        searchForm.append(\"teacherId\",that.teacherId);\r\n        this.$axios\r\n        .post(api+`/project/getMoreSearchProjectByTeacher`,searchForm)\r\n        .then(function(response) {\r\n          console.log(response.data);\r\n          that.projectData = response.data;\r\n        })\r\n        .catch(function(error) {\r\n          that.$message.error(\"系统错误，操作失败，请稍后再试!\");\r\n        });\r\n      },\r\n      人员查看(row) {\r\n        let that = this;\r\n        this.$axios\r\n        .get(\r\n            `http://localhost:8088/school/selectStudentByProId?projectId=${row.id}`\r\n        )\r\n        .then(function(response) {\r\n          if (response.data == null) {\r\n            that.$message.error(\"系统错误，操作失败，请稍后再试!\");\r\n          } else {\r\n            that.studentData = response.data;\r\n            that.dialogTableVisible = true;\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          that.$message.error(\"系统错误，操作失败，请稍后再试!\");\r\n        });\r\n      },\r\n      导出为Excel() {\r\n        let excelname = this.$store.state.nickname + \"竞赛项目\";\r\n        exportExcel(\"竞赛项目列表\", excelname);\r\n      },\r\n      showProjectInfo(projectId){\r\n        let that=this;\r\n        that.projectVisible=true;\r\n        that.$axios\r\n          .get(api+`/teacher/getProjectById/`+projectId)\r\n          .then(function (response) {\r\n            let newArray=[];\r\n            newArray.push(response.data);\r\n            that.projectInfo=newArray;\r\n          })\r\n\r\n      },\r\n      /**\r\n       * 老师申请加入项目\r\n       * @param projectId\r\n       */\r\n      teacherApplyJoinProject(projectId){\r\n        let that=this;\r\n        that.$axios\r\n          .get(api+`/teacher/teacherApplyJoinProject/`+projectId+`/`+that.teacherId)\r\n          .then(function (response) {\r\n            that.$message({\r\n              type:response.data.code==200?'success':'warning',\r\n              message:response.data.message\r\n            })\r\n          })\r\n      },\r\n    }\r\n  };\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./teacher_project.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./teacher_project.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./teacher_project.vue?vue&type=template&id=a6efc200&\"\nimport script from \"./teacher_project.vue?vue&type=script&lang=js&\"\nexport * from \"./teacher_project.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}