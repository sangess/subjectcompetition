(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2304"],{"7e44":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"teacher_apply"}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"}),a("div",[a("el-tabs",{model:{value:t.collegeOrStudent,callback:function(e){t.collegeOrStudent=e},expression:"collegeOrStudent"}},[a("el-tab-pane",{attrs:{label:"比赛项目申请",name:"teacher"}},[a("el-tabs",{attrs:{"tab-position":t.tabPosition},model:{value:t.activeApply,callback:function(e){t.activeApply=e},expression:"activeApply"}},[a("el-tab-pane",{attrs:{label:"未处理",name:"undo"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:t.undoApplyProjectList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{class:void 0==e.row.applyDate?"":"el-icon-time"}),t._v("\n                    "+t._s(t._f("dataTime")(e.row.applyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{class:void 0==e.row.updateApplyDate?"":"el-icon-time"}),t._v("\n                    "+t._s(t._f("dataTime")(e.row.updateApplyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"student.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"project.comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{label:"目前状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"success"}},[t._v(t._s(1==e.row.applyOrJoin?"已发出申请":"已重新发出申请"))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"已处理",name:"done"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:t.doneApplyProjectList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{class:void 0==e.row.applyDate?"":"el-icon-time"}),t._v("\n                    "+t._s(t._f("dataTime")(e.row.applyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{class:void 0==e.row.updateApplyDate?"":"el-icon-time"}),t._v("\n                    "+t._s(t._f("dataTime")(e.row.updateApplyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"student.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"project.comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{prop:"applyOrJoin",label:"处理情况"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:3==e.row.applyOrJoin?"success":"danger"}},[a("span",{domProps:{textContent:t._s(3==e.row.applyOrJoin?"申请已同意":"申请驳回")}})]),2==e.row.applyOrJoin?a("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"50px"},attrs:{effect:"dark",content:"重新申请",placement:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right",circle:""},on:{click:function(a){return t.reApplyJoinProject(e.row.id)}}})],1):t._e()]}}])})],1)],1)],1)],1)],1)],1)])],1)},n=[],o=a("56d7"),r={inject:["reload"],name:"teacher_apply",data:function(){return{applyProjectFormVisible:!1,formLabelWidth:"80px",applyProjectForm:{},compId:"",collegeOrStudent:"teacher",activeApply:"undo",tabPosition:"left",undoApplyProjectList:[],doneApplyProjectList:[],time1:"",time2:""}},mounted:function(){this.getUndoApplyProjectList(),this.getDoneApplyProjectList(),this.time1=setInterval(this.getUndoApplyProjectList,1500),this.time2=setInterval(this.getDoneApplyProjectList,1500)},methods:{getUndoApplyProjectList:function(){var t=this,e=t.$store.state.id;t.$axios.get(o["default"]+"/student/getUndoApplyProjectList/"+e).then((function(e){t.undoApplyProjectList=e.data}))},getDoneApplyProjectList:function(){var t=this,e=t.$store.state.id;t.$axios.get(o["default"]+"/student/getDoneApplyProjectList/"+e).then((function(e){t.doneApplyProjectList=e.data}))},reApplyJoinProject:function(t){var e=this;e.$store.state.id;e.$axios.get(o["default"]+"/student/reApplyJoinProject/"+t).then((function(t){e.$message({type:200==t.data.code?"success":"warning",message:t.data.message}),e.reload()}))}},filters:{dataTime:function(t){if(void 0==t)return"-";if(t=new Date(t),t instanceof Date){var e=t,a=e.getFullYear(),l=e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate(),o=a+"年"+l+"月 "+n+"日";return o}return"-"}},beforeDestroy:function(){clearInterval(this.time1),clearInterval(this.time2)}},s=r,p=a("2877"),i=Object(p["a"])(s,l,n,!1,null,null,null);e["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0e2304.a9cf35d7.js.map