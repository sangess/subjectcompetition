(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3698"],{"5d3f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"admin_comp_add"}},[a("el-card",{staticStyle:{width:"100%",height:"1200px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"default",icon:"el-icon-arrow-left"},on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回")])],1),a("div",{staticStyle:{"text-align":"center"}},[a("div",[a("h1",{staticStyle:{"font-size":"28px"}},[e._v("申请添加新竞赛")])]),a("el-col",{attrs:{span:10,offset:6}},[a("div",{staticClass:"body_form"},[a("el-form",{ref:"formData",attrs:{"label-position":"right","label-width":"150px",model:e.formData,rules:e.rules}},[a("el-form-item",{attrs:{label:"竞赛名称",prop:"compName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.compName,callback:function(t){e.$set(e.formData,"compName",t)},expression:"formData.compName"}})],1),a("el-form-item",{attrs:{label:"主办单位",prop:"organizer"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.organizer,callback:function(t){e.$set(e.formData,"organizer",t)},expression:"formData.organizer"}})],1),a("el-form-item",{attrs:{label:"竞赛地点",prop:"place"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.place,callback:function(t){e.$set(e.formData,"place",t)},expression:"formData.place"}})],1),a("el-form-item",{attrs:{label:"所属学科",prop:"subjectType"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.subjectType,callback:function(t){e.$set(e.formData,"subjectType",t)},expression:"formData.subjectType"}})],1),a("el-form-item",{attrs:{label:"最多项目组",prop:"maxCountProject"}},[a("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:e.formData.maxCountProject,callback:function(t){e.$set(e.formData,"maxCountProject",e._n(t))},expression:"formData.maxCountProject"}})],1),a("el-form-item",{attrs:{label:"项目中老师最多人数",prop:"maxCountTeacher"}},[a("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:e.formData.maxCountTeacher,callback:function(t){e.$set(e.formData,"maxCountTeacher",e._n(t))},expression:"formData.maxCountTeacher"}})],1),a("el-form-item",{attrs:{label:"项目中学生最多人数",prop:"maxCountStudent"}},[a("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:e.formData.maxCountStudent,callback:function(t){e.$set(e.formData,"maxCountStudent",e._n(t))},expression:"formData.maxCountStudent"}})],1),a("el-form-item",{attrs:{label:"竞赛时间",prop:"occurrenceTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",format:"yyyy 年 MM 月 dd 日","picker-options":e.occurrenceTimeRule},model:{value:e.formData.occurrenceTime,callback:function(t){e.$set(e.formData,"occurrenceTime",t)},expression:"formData.occurrenceTime"}})],1),a("el-form-item",{attrs:{label:"可申请时间",prop:"canApplyTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",format:"yyyy 年 MM 月 dd 日","picker-options":e.canApplyTimeRule},model:{value:e.formData.canApplyTime,callback:function(t){e.$set(e.formData,"canApplyTime",t)},expression:"formData.canApplyTime"}})],1),a("el-form-item",{attrs:{label:"截止申请时间",prop:"notApplyTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",format:"yyyy 年 MM 月 dd 日","picker-options":e.notApplyTimeRule},model:{value:e.formData.notApplyTime,callback:function(t){e.$set(e.formData,"notApplyTime",t)},expression:"formData.notApplyTime"}})],1),a("el-form-item",{attrs:{label:"竞赛级别",prop:"level"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.formData.level,callback:function(t){e.$set(e.formData,"level",t)},expression:"formData.level"}},[a("el-option",{attrs:{label:"国家级",value:"0"}}),a("el-option",{attrs:{label:"省级",value:"1"}}),a("el-option",{attrs:{label:"校级",value:"2"}})],1)],1),a("el-form-item",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"}},[a("el-button",{staticStyle:{float:"left",width:"250px"},attrs:{type:"primary"},on:{click:function(t){return e.applyCreateComp("formData")}}},[e._v("申请添加比赛")]),a("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.重置("formData")}}},[e._v("重置")])],1)],1)],1)])],1)])],1)},o=[],l=a("56d7"),m={name:"admin_comp_add",data:function(){var e=this;return{formData:{},occurrenceTimeRule:{disabledDate:function(e){return e.getTime()<Date.now()}},canApplyTimeRule:{disabledDate:function(t){if(e.formData.occurrenceTime)return new Date(e.formData.occurrenceTime).getTime()-864e5<t.getTime()|t.getTime()<Date.now()}},notApplyTimeRule:{disabledDate:function(t){if(e.formData.occurrenceTime)return new Date(e.formData.occurrenceTime).getTime()-864e5<t.getTime()|t.getTime()<Date.now()}},rules:{compName:[{required:!0,message:"请输入竞赛名称",trigger:"blur"}],organizer:[{required:!0,message:"请输入主办单位",trigger:"blur"}],place:[{required:!0,message:"请输入竞赛地点",trigger:"blur"}],subjectType:[{required:!0,message:"请输入所属学科",trigger:"blur"}],occurrenceTime:[{required:!0,message:"请输选择竞赛时间",trigger:"blur"}],canApplyTime:[{required:!0,message:"请输选择可申请时间",trigger:"blur"}],notApplyTime:[{required:!0,message:"请输选择截止申请时间",trigger:"blur"}],level:[{required:!0,message:"请输选择竞赛级别",trigger:"blur"}],maxCountProject:[{required:!0,message:"项目最大数不能为空，未要求可填写成999",trigger:"blur"},{type:"number",message:"项目最大数必须为数字值",trigger:"blur"}],maxCountTeacher:[{required:!0,message:"项目中老师最大数不能为空，未要求可填写成999",trigger:"blur"},{type:"number",message:"项目中老师最大数必须为数字值",trigger:"blur"}],maxCountStudent:[{required:!0,message:"项目中学生最大数不能为空，未要求可填写成999",trigger:"blur"},{type:"number",message:"项目中老师最大数必须为数字值",trigger:"blur"}]}}},methods:{"重置":function(e){this.$refs[e].resetFields()},applyCreateComp:function(e){var t=this,a=new FormData;a.append("compName",t.formData.compName),a.append("organizer",t.formData.organizer),a.append("level",t.formData.level),a.append("subjectType",t.formData.subjectType),a.append("occurrenceTime",t.formData.occurrenceTime),a.append("canApplyTime",t.formData.canApplyTime),a.append("notApplyTime",t.formData.notApplyTime),a.append("place",t.formData.place),a.append("maxCountProject",t.formData.maxCountProject),a.append("maxCountTeacher",t.formData.maxCountTeacher),a.append("maxCountStudent",t.formData.maxCountStudent),a.append("compState",0),a.append("countProject",0),a.append("collegeId",t.$store.state.id),t.$refs[e].validate((function(e){if(!e)return t.$message.error("请正确填写表格！"),!1;t.$axios.post(l["default"]+"/college/applyCreateComp",a).then((function(e){t.$message({message:e.data.message,type:200==e.data.code?"success":"error"}),t.$router.back(-1)})).catch((function(e){t.$message.error(e)}))}))}}},n=m,p=a("2877"),c=Object(p["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0d3698.ad85b720.js.map