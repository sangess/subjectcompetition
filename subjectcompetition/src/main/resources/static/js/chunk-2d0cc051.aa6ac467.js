(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc051"],{"4bc0":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"school_apply"}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"}),a("div",[a("el-tabs",{model:{value:e.compOrProject,callback:function(t){e.compOrProject=t},expression:"compOrProject"}},[a("el-tab-pane",{attrs:{label:"竞赛申请列表",name:"comp"}},[a("el-tabs",{attrs:{"tab-position":e.tabPosition},model:{value:e.activeApplyComp,callback:function(t){e.activeApplyComp=t},expression:"activeApplyComp"}},[a("el-tab-pane",{attrs:{label:"未处理",name:"undo"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.undoApplyCompList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.applyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.applyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"college.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{label:"目前状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(1==t.row.applyOrJoin?"已发出申请":"已重新发出申请"))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"已处理",name:"done"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.doneApplyCompList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.applyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.applyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"college.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{prop:"applyOrJoin",label:"处理结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:3==t.row.applyOrJoin?"success":"danger"}},[a("span",{domProps:{textContent:e._s(3==t.row.applyOrJoin?"同意申请":"申请驳回")}})]),2==t.row.applyOrJoin?a("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"50px"},attrs:{effect:"dark",content:"重新申请",placement:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right",circle:""},on:{click:function(a){return e.reApplyComp(t.row.id)}}})],1):e._e()]}}])})],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"项目申请列表",name:"project"}},[a("el-tabs",{attrs:{"tab-position":e.tabPosition},model:{value:e.activeApplyProject,callback:function(t){e.activeApplyProject=t},expression:"activeApplyProject"}},[a("el-tab-pane",{attrs:{label:"未处理",name:"undo"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.undoApplyTeacherList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.applyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.applyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"teacher.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"project.comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{label:"目前状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(1==t.row.applyOrJoin?"发出申请":"重新发出申请"))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"同意申请",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check",circle:""},on:{click:function(a){return e.applyProject(t.row.id)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"驳回申请",placement:"top"}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-circle-close",circle:""},on:{click:function(a){return e.refuseProject(t.row.id)}}})],1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"已处理",name:"done"}},[a("el-table",{staticStyle:{width:"100%","align-items":"center"},attrs:{border:"",stripe:"",data:e.doneApplyTeacherList}},[a("el-table-column",{attrs:{label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"applyDate",label:"申请日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.applyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.applyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"updateApplyDate",label:"最新更改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:void 0==t.row.updateApplyDate?"":"el-icon-time"}),e._v("\n                    "+e._s(e._f("dataTime")(t.row.updateApplyDate))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"teacher.nickname",label:"申请人"}}),a("el-table-column",{attrs:{prop:"project.comp.compName",label:"申请竞赛"}}),a("el-table-column",{attrs:{prop:"applyOrJoin",label:"处理情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:3==t.row.applyOrJoin?"success":"danger"}},[a("span",{domProps:{textContent:e._s(3==t.row.applyOrJoin?"同意申请":"申请驳回")}})])]}}])})],1)],1)],1)],1)],1)],1)])],1)},o=[],n=a("56d7"),p={inject:["reload"],name:"college_apply",data:function(){return{compOrProject:"comp",activeApplyComp:"done",activeApplyProject:"undo",tabPosition:"left",undoApplyCompList:[],doneApplyCompList:[],undoApplyTeacherList:[],doneApplyTeacherList:[],time1:"",time2:"",time3:"",time4:""}},mounted:function(){this.getUndoApplyCompList(),this.getDoneApplyCompList(),this.getUndoApplyTeacherList(),this.getDoneApplyTeacherList(),this.time1=setInterval(this.getUndoApplyCompList,1500),this.time2=setInterval(this.getDoneApplyCompList,1500),this.time3=setInterval(this.getUndoApplyTeacherList,1500),this.time4=setInterval(this.getDoneApplyTeacherList,1500)},methods:{getUndoApplyCompList:function(){var e=this,t=e.$store.state.id;e.$axios.post(n["default"]+"/college/getUndoCompApply/"+t).then((function(t){console.log("已处理的学院与管理员的竞赛关系"),console.log(t.data),e.undoApplyCompList=t.data}))},getDoneApplyCompList:function(){var e=this,t=e.$store.state.id;e.$axios.post(n["default"]+"/college/getDoneCompApply/"+t).then((function(t){console.log("未处理的学院与管理员的竞赛关系"),console.log(t.data),e.doneApplyCompList=t.data}))},reApplyComp:function(e){var t=this;t.$axios.get(n["default"]+"/college/reApplyComp/"+e).then((function(e){t.$message({message:e.data.message,type:200==e.data.code?"success":"error"}),t.reload()}))},getUndoApplyTeacherList:function(){var e=this,t=e.$store.state.id;e.$axios.get(n["default"]+"/college/getUndoApplyTeacherList/"+t).then((function(t){console.log("未处理的学院与老师的项目关系"),console.log(t.data),e.undoApplyTeacherList=t.data}))},getDoneApplyTeacherList:function(){var e=this,t=e.$store.state.id;e.$axios.get(n["default"]+"/college/getDoneApplyTeacherList/"+t).then((function(t){console.log("已处理的学院与老师的项目关系"),console.log(t.data),e.doneApplyTeacherList=t.data}))},applyProject:function(e){var t=this;t.$axios.get(n["default"]+"/college/applyTeacherProject/"+e).then((function(e){t.$message({message:e.data.message,type:200==e.data.code?"success":"error"}),t.reload()}))},refuseProject:function(e){var t=this;t.$axios.get(n["default"]+"/college/refuseTeacherProject/"+e).then((function(e){t.$message({message:e.data.message,type:200==e.data.code?"success":"error"}),t.reload()}))}},filters:{dataTime:function(e){if(void 0==e)return"-";if(e=new Date(e),e instanceof Date){var t=e,a=t.getFullYear(),l=t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate(),n=a+"年"+l+"月 "+o+"日";return n}return"-"}},beforeDestroy:function(){clearInterval(this.time1),clearInterval(this.time2),clearInterval(this.time2),clearInterval(this.time3)}},s=p,r=a("2877"),c=Object(r["a"])(s,l,o,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0cc051.aa6ac467.js.map