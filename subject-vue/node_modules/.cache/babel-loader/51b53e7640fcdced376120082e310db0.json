{"remainingRequest":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IDEA_workspace2\\subject-vue\\src\\views\\student\\student_apply.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IDEA_workspace2\\subject-vue\\src\\views\\student\\student_apply.vue","mtime":1619537744574},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { formatDate } from \"../../assets/js/utils.js\";\nexport default {\n  inject: ['reload'],\n  name: \"teacher_apply\",\n  data: function data() {\n    return {\n      applyProjectFormVisible: false,\n      formLabelWidth: \"80px\",\n      applyProjectForm: {},\n      compId: \"\",\n      collegeOrStudent: \"teacher\",\n      activeApply: \"undo\",\n      tabPosition: \"left\",\n      undoApplyProjectList: [],\n      doneApplyProjectList: []\n    };\n  },\n  mounted: function mounted() {\n    this.getUndoApplyProjectList();\n    this.getDoneApplyProjectList();\n  },\n  methods: {\n    /**\r\n     * 根据学生的id返回学生的未处理的请求\r\n     * @param studentId\r\n     * @return\r\n     */\n    getUndoApplyProjectList: function getUndoApplyProjectList() {\n      var that = this;\n      var studentId = that.$store.state.id;\n      that.$axios.get(\"http://localhost:8089/student/getUndoApplyProjectList/\" + studentId).then(function (response) {\n        that.undoApplyProjectList = response.data;\n      });\n    },\n\n    /**\r\n     * 根据学生的id返回学生的处理过的请求\r\n     * @param studentId\r\n     * @return\r\n     */\n    getDoneApplyProjectList: function getDoneApplyProjectList() {\n      var that = this;\n      var studentId = that.$store.state.id;\n      that.$axios.get(\"http://localhost:8089/student/getDoneApplyProjectList/\" + studentId).then(function (response) {\n        that.doneApplyProjectList = response.data;\n      });\n    },\n\n    /**\r\n     * 重新申请\r\n     * @param collegeCompId\r\n     */\n    reApplyJoinProject: function reApplyJoinProject(student_projectId) {\n      var that = this;\n      var studentId = that.$store.state.id;\n      that.$axios.get(\"http://localhost:8089/student/reApplyJoinProject/\" + student_projectId).then(function (response) {\n        that.$message({\n          type: response.data.code == 200 ? 'success' : 'warning',\n          message: response.data.message\n        });\n        that.reload();\n      });\n    }\n  },\n  filters: {\n    dataTime: function dataTime(value) {\n      if (value == undefined) return '-';\n      value = new Date(value);\n\n      if (value instanceof Date) {\n        var d = value;\n        var year = d.getFullYear();\n        var m = d.getMonth() + 1;\n        var day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate();\n        var myDate = year + '年' + m + '月 ' + day + '日';\n        return myDate;\n      } else {\n        return \"-\";\n      }\n    }\n  }\n};",{"version":3,"sources":["student_apply.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"teacher_apply\">\r\n    <el-card>\r\n      <div slot=\"header\"></div>\r\n      <div>\r\n        <el-tabs  v-model=\"collegeOrStudent\">\r\n          <el-tab-pane label=\"比赛项目申请\" name=\"teacher\">\r\n            <el-tabs v-model=\"activeApply\" :tab-position=\"tabPosition\">\r\n              <el-tab-pane label=\"未处理\" name=\"undo\">\r\n                <el-table border stripe  :data=\"undoApplyProjectList\" style=\"width: 100%;align-items: center\">\r\n                  <el-table-column label=\"#\" >\r\n                    <template slot-scope=\"scope\">{{scope.$index + 1}}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"applyDate\" label=\"申请日期\" >\r\n                    <template slot-scope=\"scope\">\r\n                      <i :class=\"scope.row.applyDate==undefined?'':'el-icon-time'\"></i>\r\n                      {{scope.row.applyDate|dataTime }}\r\n                    </template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"updateApplyDate\" label=\"最新更改日期\">\r\n                    <template slot-scope=\"scope\">\r\n                      <i :class=\"scope.row.updateApplyDate==undefined?'':'el-icon-time'\"></i>\r\n                      {{scope.row.updateApplyDate|dataTime }}\r\n                    </template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"student.nickname\" label=\"申请人\"></el-table-column>\r\n                  <el-table-column prop=\"project.comp.compName\" label=\"申请竞赛\" ></el-table-column>\r\n                  <el-table-column label=\"目前状态\" >\r\n                    <template slot-scope=\"scope\">\r\n                      <el-tag type=\"success\" >{{scope.row.applyOrJoin==1?'已发出申请':'已重新发出申请'}}</el-tag>\r\n                    </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n              </el-tab-pane>\r\n              <el-tab-pane label=\"已处理\" name=\"done\">\r\n                <el-table border stripe  :data=\"doneApplyProjectList\" style=\"width: 100%;align-items: center\">\r\n                  <el-table-column label=\"#\" >\r\n                    <template slot-scope=\"scope\">{{scope.$index + 1}}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"applyDate\" label=\"申请日期\" >\r\n                    <template slot-scope=\"scope\">\r\n                      <i :class=\"scope.row.applyDate==undefined?'':'el-icon-time'\"></i>\r\n                      {{scope.row.applyDate|dataTime }}\r\n                    </template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"updateApplyDate\" label=\"最新更改日期\">\r\n                    <template slot-scope=\"scope\">\r\n                      <i :class=\"scope.row.updateApplyDate==undefined?'':'el-icon-time'\"></i>\r\n                      {{scope.row.updateApplyDate|dataTime }}\r\n                    </template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"student.nickname\" label=\"申请人\"></el-table-column>\r\n                  <el-table-column prop=\"project.comp.compName\" label=\"申请竞赛\" ></el-table-column>\r\n                  <el-table-column prop=\"applyOrJoin\" label=\"处理情况\" >\r\n                    <template slot-scope=\"scope\">\r\n                      <el-tag :type=\"scope.row.applyOrJoin==3?'success':'danger'\">\r\n                        <span v-text=\"scope.row.applyOrJoin==3?'申请已同意':'申请驳回'\"></span>\r\n                      </el-tag>\r\n                      <el-tooltip v-if=\"scope.row.applyOrJoin==2\" style=\"margin-left: 50px\" class=\"item\" effect=\"dark\" content=\"重新申请\" placement=\"right\">\r\n                        <el-button type=\"primary\" icon=\"el-icon-refresh-right\"  circle @click=\"reApplyJoinProject(scope.row.id)\"></el-button>\r\n                      </el-tooltip>\r\n                    </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { formatDate} from \"../../assets/js/utils.js\";\r\nexport default {\r\n  inject:['reload'],\r\n  name:\"teacher_apply\",\r\n  data(){\r\n    return {\r\n      applyProjectFormVisible:false,\r\n      formLabelWidth:\"80px\",\r\n      applyProjectForm:{},\r\n      compId:\"\",\r\n      collegeOrStudent:\"teacher\",\r\n      activeApply:\"undo\",\r\n      tabPosition:\"left\",\r\n      undoApplyProjectList:[],\r\n      doneApplyProjectList:[],\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getUndoApplyProjectList();\r\n    this.getDoneApplyProjectList();\r\n  },\r\n  methods:{\r\n    /**\r\n     * 根据学生的id返回学生的未处理的请求\r\n     * @param studentId\r\n     * @return\r\n     */\r\n    getUndoApplyProjectList(){\r\n      let that=this;\r\n      let studentId=that.$store.state.id;\r\n      that.$axios\r\n        .get(`http://localhost:8089/student/getUndoApplyProjectList/`+studentId)\r\n        .then(function (response) {\r\n          that.undoApplyProjectList=response.data;\r\n        })\r\n    },\r\n    /**\r\n     * 根据学生的id返回学生的处理过的请求\r\n     * @param studentId\r\n     * @return\r\n     */\r\n    getDoneApplyProjectList(){\r\n      let that=this;\r\n      let studentId=that.$store.state.id;\r\n      that.$axios\r\n      .get(`http://localhost:8089/student/getDoneApplyProjectList/`+studentId)\r\n      .then(function (response) {\r\n        that.doneApplyProjectList=response.data;\r\n      })\r\n    },\r\n    /**\r\n     * 重新申请\r\n     * @param collegeCompId\r\n     */\r\n    reApplyJoinProject(student_projectId){\r\n      let that=this;\r\n      let studentId=that.$store.state.id;\r\n      that.$axios\r\n        .get(`http://localhost:8089/student/reApplyJoinProject/`+student_projectId)\r\n        .then(function (response) {\r\n          that.$message({\r\n            type:response.data.code==200?'success':'warning',\r\n            message:response.data.message\r\n          });\r\n          that.reload();\r\n        })\r\n    },\r\n  },\r\n  filters:{\r\n    dataTime: function(value) {\r\n      if (value==undefined)\r\n        return '-';\r\n      value = new Date(value)\r\n      if (value instanceof Date) {\r\n        var d = value;\r\n        var year=d.getFullYear();\r\n        var m = d.getMonth() + 1;\r\n        var day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate();\r\n        var myDate = year + '年'+m + '月 ' + day +'日';\r\n        return myDate;\r\n      } else {\r\n        return \"-\";\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>"],"sourceRoot":"src/views/student"}]}