{"remainingRequest":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\IDEA_workspace2\\subject-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IDEA_workspace2\\subject-vue\\src\\views\\admin\\admin_apply.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IDEA_workspace2\\subject-vue\\src\\views\\admin\\admin_apply.vue","mtime":1619548167753},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { formatDate } from \"../../assets/js/utils.js\";\nexport default {\n  inject: ['reload'],\n  name: \"admin_apply\",\n  data: function data() {\n    return {\n      tabPosition: \"left\",\n      activeApply: \"未处理\",\n      undoApplyList: [],\n      doneApplyList: []\n    };\n  },\n  mounted: function mounted() {\n    this.displayUndoApplyList();\n    this.displayDoneApplyList();\n  },\n  methods: {\n    /**\n     * 得到未处理的比赛申请集合\n     */\n    displayUndoApplyList: function displayUndoApplyList() {\n      var that = this;\n      that.$axios.post(\"http://localhost:8089/admin/getUndoApplyCompList\").then(function (response) {\n        that.undoApplyList = response.data;\n      });\n    },\n\n    /**\n     * 得到已处理的比赛申请集合\n     */\n    displayDoneApplyList: function displayDoneApplyList() {\n      var that = this;\n      that.$axios.post(\"http://localhost:8089/admin/getDoneApplyCompList\").then(function (response) {\n        that.doneApplyList = response.data;\n      });\n    },\n\n    /**\n     * 同意申请\n     */\n    applyComp: function applyComp(id) {\n      var that = this;\n      that.$axios.get(\"http://localhost:8089/admin/applyComp/\" + id).then(function (response) {\n        that.$message({\n          message: response.data.message,\n          type: response.data.code == 200 ? 'success' : 'error'\n        });\n        that.reload();\n      });\n    },\n\n    /**\n     * 拒绝申请\n     */\n    refuseComp: function refuseComp(id) {\n      var that = this;\n      that.$axios.get(\"http://localhost:8089/admin/refuseComp/\" + id).then(function (response) {\n        that.$message({\n          message: response.data.message,\n          type: response.data.code == 200 ? 'success' : 'error'\n        });\n        that.reload();\n      });\n    }\n  },\n  filters: {\n    dataTime: function dataTime(value) {\n      if (value == undefined) return '-';\n      value = new Date(value);\n\n      if (value instanceof Date) {\n        var d = value;\n        var year = d.getFullYear();\n        var m = d.getMonth() + 1;\n        var day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate();\n        var myDate = year + '年' + m + '月 ' + day + '日';\n        return myDate;\n      } else {\n        return \"-\";\n      }\n    }\n  }\n};",{"version":3,"sources":["admin_apply.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"admin_apply\">\r\n    <el-card>\r\n      <el-tabs v-model=\"activeApply\" :tab-position=\"tabPosition\">\r\n        <el-tab-pane label=\"未处理\" name=\"未处理\">\r\n          <el-table border stripe  :data=\"undoApplyList\" style=\"width: 100%;align-items: center\">\r\n            <el-table-column label=\"#\" >\r\n              <template slot-scope=\"scope\">{{scope.$index + 1}}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"applyDate\" label=\"申请日期\" >\r\n              <template slot-scope=\"scope\">\r\n                <i :class=\"scope.row.applyDate==undefined?'':'el-icon-time'\"></i>\r\n                {{scope.row.applyDate|dataTime }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"updateApplyDate\" label=\"最新更改日期\">\r\n              <template slot-scope=\"scope\">\r\n                <i :class=\"scope.row.updateApplyDate==undefined?'':'el-icon-time'\"></i>\r\n                {{scope.row.updateApplyDate|dataTime }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"college.nickname\" label=\"申请人\"></el-table-column>\r\n            <el-table-column prop=\"comp.compName\" label=\"申请竞赛\" ></el-table-column>\r\n            <el-table-column label=\"操作\" >\r\n              <template slot-scope=\"scope\">\r\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"同意申请\" placement=\"top\">\r\n                  <el-button type=\"primary\" icon=\"el-icon-circle-check\"  circle @click=\"applyComp(scope.row.id)\"></el-button>\r\n                </el-tooltip>\r\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"驳回申请\" placement=\"top\">\r\n                  <el-button type=\"warning\" icon=\"el-icon-circle-close\"  circle @click=\"refuseComp(scope.row.id)\"></el-button>\r\n                </el-tooltip>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"已处理\" name=\"已处理\">\r\n          <el-table border stripe  :data=\"doneApplyList\" style=\"width: 100%;align-items: center\">\r\n            <el-table-column label=\"#\" >\r\n              <template slot-scope=\"scope\">{{scope.$index + 1}}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"applyDate\" label=\"申请日期\" >\r\n              <template slot-scope=\"scope\">\r\n                <i :class=\"scope.row.applyDate==undefined?'':'el-icon-time'\"></i>\r\n                {{scope.row.applyDate|dataTime }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"updateApplyDate\" label=\"最新更改日期\">\r\n              <template slot-scope=\"scope\">\r\n                <i :class=\"scope.row.updateApplyDate==undefined?'':'el-icon-time'\"></i>\r\n                {{scope.row.updateApplyDate|dataTime }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"college.nickname\" label=\"申请人\"></el-table-column>\r\n            <el-table-column prop=\"comp.compName\" label=\"申请竞赛\" ></el-table-column>\r\n            <el-table-column prop=\"applyOrJoin\" label=\"处理情况\" >\r\n              <template slot-scope=\"scope\">\r\n                <el-tag :type=\"scope.row.applyOrJoin==2?'danger':'success'\">\r\n                  <span v-text=\"scope.row.applyOrJoin==3?'同意申请':'申请驳回'\"></span>\r\n                </el-tag>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { formatDate} from \"../../assets/js/utils.js\";\r\n  export default {\r\n    inject:['reload'],\r\n    name: \"admin_apply\",\r\n    data() {\r\n      return {\r\n        tabPosition: \"left\",\r\n        activeApply: \"未处理\",\r\n        undoApplyList: [],\r\n        doneApplyList: []\r\n      }\r\n\r\n    },\r\n    mounted() {\r\n      this.displayUndoApplyList();\r\n      this.displayDoneApplyList();\r\n    },\r\n    methods: {\r\n      /**\r\n       * 得到未处理的比赛申请集合\r\n       */\r\n      displayUndoApplyList() {\r\n        let that = this;\r\n        that.$axios\r\n        .post(`http://localhost:8089/admin/getUndoApplyCompList`)\r\n        .then(function (response) {\r\n          that.undoApplyList = response.data;\r\n        })\r\n      },\r\n\r\n      /**\r\n       * 得到已处理的比赛申请集合\r\n       */\r\n      displayDoneApplyList() {\r\n        let that = this;\r\n        that.$axios\r\n        .post(`http://localhost:8089/admin/getDoneApplyCompList`)\r\n        .then(function (response) {\r\n          that.doneApplyList = response.data;\r\n        })\r\n      },\r\n\r\n      /**\r\n       * 同意申请\r\n       */\r\n      applyComp(id){\r\n        let that=this;\r\n        that.$axios\r\n          .get(`http://localhost:8089/admin/applyComp/`+id)\r\n          .then(function (response) {\r\n            that.$message({\r\n              message:response.data.message,\r\n              type:response.data.code==200?'success':'error'\r\n            })\r\n            that.reload()\r\n          })\r\n      },\r\n\r\n      /**\r\n       * 拒绝申请\r\n       */\r\n      refuseComp(id){\r\n        let that=this;\r\n        that.$axios\r\n        .get(`http://localhost:8089/admin/refuseComp/`+id)\r\n        .then(function (response) {\r\n          that.$message({\r\n            message:response.data.message,\r\n            type:response.data.code==200?'success':'error'\r\n          })\r\n          that.reload()\r\n        })\r\n      }\r\n    },\r\n    filters:{\r\n      dataTime: function(value) {\r\n        if (value==undefined)\r\n          return '-';\r\n        value = new Date(value)\r\n        if (value instanceof Date) {\r\n          var d = value;\r\n          var year=d.getFullYear();\r\n          var m = d.getMonth() + 1;\r\n          var day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate();\r\n          var myDate = year + '年'+m + '月 ' + day +'日';\r\n          return myDate;\r\n        } else {\r\n          return \"-\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/admin"}]}