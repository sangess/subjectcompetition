{"remainingRequest":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IDEA_workspace2\\subject-vue\\src\\views\\school\\school_studentPutin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IDEA_workspace2\\subject-vue\\src\\views\\school\\school_studentPutin.vue","mtime":1590038565809},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { dateFormat } from \"../../assets/js/utils\";\r\nexport default {\r\n  name: \"school_studentPutin\",\r\n  data() {\r\n    return {\r\n      tabPosition: \"left\",\r\n      putinTableData: [],\r\n      shenhePost: {\r\n        xinxi: {}\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.获取学生申请列表信息();\r\n  },\r\n  methods: {\r\n    获取学生申请列表信息() {\r\n      let that = this;\r\n      that.$axios\r\n        .get(\r\n          `http://localhost:8088/school/getStudentJoinProInfo?schoolName=${that.$store.state.userinfo.username}`\r\n        )\r\n        .then(function(response) {\r\n          that.putinTableData = response.data;\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    审核(result, row) {\r\n      console.log(result);\r\n      console.log(row);\r\n      let that = this;\r\n      //学生ID\r\n      that.shenhePost.studentId = row.student.id;\r\n      //项目ID\r\n      that.shenhePost.projectId = row.projectId;\r\n      //发送者\r\n      that.shenhePost.xinxi.fasongzhe = that.$store.state.userinfo.username;\r\n      //接收者\r\n      that.shenhePost.xinxi.jieshouzhe = row.student.name;\r\n      //项目名\r\n      that.shenhePost.xinxi.projectName = row.projectName;\r\n      //审核时间\r\n      let date = new Date();\r\n      that.shenhePost.time = dateFormat(\"YYYY-mm-dd HH:MM\", date);\r\n      //审核结果：0：不通过  ； 1：通过\r\n      that.shenhePost.result = result;\r\n      this.$axios\r\n        .post(`http://localhost:8088/school/shenheStudent`, that.shenhePost)\r\n        .then(function(response) {\r\n          if (response.data == \"error\") {\r\n            that.$message.error(\"服务器错误!请稍后再试\");\r\n          } else {\r\n            that.$message({\r\n              message: response.data,\r\n              type: \"success\"\r\n            });\r\n            that.获取学生申请列表信息();\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          that.$message.error(\"系统出现异常!请稍后再试\");\r\n        });\r\n    },\r\n    点击通过审核按钮(row) {\r\n      var that = this;\r\n      this.$confirm(\"是否确定审核通过？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          that.审核(1, row);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消\"\r\n          });\r\n        });\r\n    },\r\n    点击不通过审核按钮(row) {\r\n      var that = this;\r\n      this.$confirm(\"是否确定审核不通过？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          that.审核(0, row);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消\"\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["school_studentPutin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"school_studentPutin.vue","sourceRoot":"src/views/school","sourcesContent":["<template>\r\n  <div id=\"school_studentPutin\">\r\n    <el-card>\r\n      <div slot=\"header\"></div>\r\n      <div>\r\n        <el-tabs :tab-position=\"tabPosition\">\r\n          <el-tab-pane label=\"学生申请列表\">\r\n            <el-table :data=\"putinTableData\" stripe border style=\"width: 100%\">\r\n              <el-table-column label=\"#\" type=\"index\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"student.name\" align=\"center\" label=\"学生姓名\" width=\"100\"></el-table-column>\r\n              <el-table-column prop=\"student.studentNumber\" align=\"center\" label=\"学生学号\" width=\"150\"></el-table-column>\r\n              <el-table-column prop=\"student.zhuanye\" align=\"center\" label=\"学生专业\"></el-table-column>\r\n              <el-table-column prop=\"student.sex\" align=\"center\" label=\"学生性别\" width=\"80\"></el-table-column>\r\n              <el-table-column prop=\"student.age\" align=\"center\" label=\"学生年龄\" width=\"80\"></el-table-column>\r\n              <el-table-column prop=\"projectName\" align=\"center\" label=\"申请竞赛项目\"></el-table-column>\r\n              <el-table-column prop=\"message\" header-align=\"center\" label=\"学生申请留言\"></el-table-column>\r\n              <el-table-column prop=\"time\" align=\"center\" label=\"申请时间\" width=\"150\"></el-table-column>\r\n              <el-table-column align=\"center\" label=\"操作\" width=\"130\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-tooltip class=\"item\" effect=\"dark\" content=\"通过审核\" placement=\"top\">\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      icon=\"el-icon-s-promotion\"\r\n                      circle\r\n                      @click=\"点击通过审核按钮(scope.row)\"\r\n                    ></el-button>\r\n                  </el-tooltip>\r\n                  <el-tooltip class=\"item\" effect=\"dark\" content=\"审核不通过\" placement=\"top\">\r\n                    <el-button\r\n                      type=\"danger\"\r\n                      icon=\"el-icon-error\"\r\n                      circle\r\n                      @click=\"点击不通过审核按钮(scope.row)\"\r\n                    ></el-button>\r\n                  </el-tooltip>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { dateFormat } from \"../../assets/js/utils\";\r\nexport default {\r\n  name: \"school_studentPutin\",\r\n  data() {\r\n    return {\r\n      tabPosition: \"left\",\r\n      putinTableData: [],\r\n      shenhePost: {\r\n        xinxi: {}\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.获取学生申请列表信息();\r\n  },\r\n  methods: {\r\n    获取学生申请列表信息() {\r\n      let that = this;\r\n      that.$axios\r\n        .get(\r\n          `http://localhost:8088/school/getStudentJoinProInfo?schoolName=${that.$store.state.userinfo.username}`\r\n        )\r\n        .then(function(response) {\r\n          that.putinTableData = response.data;\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    审核(result, row) {\r\n      console.log(result);\r\n      console.log(row);\r\n      let that = this;\r\n      //学生ID\r\n      that.shenhePost.studentId = row.student.id;\r\n      //项目ID\r\n      that.shenhePost.projectId = row.projectId;\r\n      //发送者\r\n      that.shenhePost.xinxi.fasongzhe = that.$store.state.userinfo.username;\r\n      //接收者\r\n      that.shenhePost.xinxi.jieshouzhe = row.student.name;\r\n      //项目名\r\n      that.shenhePost.xinxi.projectName = row.projectName;\r\n      //审核时间\r\n      let date = new Date();\r\n      that.shenhePost.time = dateFormat(\"YYYY-mm-dd HH:MM\", date);\r\n      //审核结果：0：不通过  ； 1：通过\r\n      that.shenhePost.result = result;\r\n      this.$axios\r\n        .post(`http://localhost:8088/school/shenheStudent`, that.shenhePost)\r\n        .then(function(response) {\r\n          if (response.data == \"error\") {\r\n            that.$message.error(\"服务器错误!请稍后再试\");\r\n          } else {\r\n            that.$message({\r\n              message: response.data,\r\n              type: \"success\"\r\n            });\r\n            that.获取学生申请列表信息();\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          that.$message.error(\"系统出现异常!请稍后再试\");\r\n        });\r\n    },\r\n    点击通过审核按钮(row) {\r\n      var that = this;\r\n      this.$confirm(\"是否确定审核通过？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          that.审核(1, row);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消\"\r\n          });\r\n        });\r\n    },\r\n    点击不通过审核按钮(row) {\r\n      var that = this;\r\n      this.$confirm(\"是否确定审核不通过？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          that.审核(0, row);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消\"\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>"]}]}