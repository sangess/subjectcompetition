{"remainingRequest":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IDEA_workspace2\\subject-vue\\src\\views\\admin\\admin_tongji.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IDEA_workspace2\\subject-vue\\src\\views\\admin\\admin_tongji.vue","mtime":1586852788841},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: \"admin_tongji\",\r\n  data() {\r\n    return {\r\n      tongji: {},\r\n      proNum: 0\r\n    };\r\n  },\r\n  mounted() {\r\n    this.绘制图表();\r\n    this.统计();\r\n  },\r\n  methods: {\r\n    绘制图表() {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      let myChart = this.$echarts.init(document.getElementById(\"统计图表\"));\r\n      // 绘制图表\r\n      myChart.setOption({\r\n        title: { text: \"学科竞赛统计【按月份统计】\" },\r\n        tooltip: {},\r\n        xAxis: {\r\n          data: []\r\n        },\r\n        yAxis: {},\r\n        series: [\r\n          {\r\n            name: \"竞赛数量\",\r\n            type: \"bar\",\r\n            data: []\r\n          }\r\n        ]\r\n      });\r\n      this.$axios\r\n        .get(\"http://localhost:8088/comp/selectCompDateByTheMonth\")\r\n        .then(function(response) {\r\n          // 填入数据\r\n          myChart.setOption({\r\n            xAxis: {\r\n              data: response.data.mont\r\n            },\r\n            series: [\r\n              {\r\n                // 根据名字对应到相应的系列\r\n                name: \"竞赛数量\",\r\n                data: response.data.count\r\n              }\r\n            ]\r\n          });\r\n        })\r\n        .catch(function(error) {\r\n          that.$message.error(error);\r\n          console.log(error);\r\n        });\r\n    },\r\n    统计() {\r\n      let that = this;\r\n      /**查询 已审核、待审核项目数量 */\r\n      const zhuangtais = [\"已审核\", \"待审核\"];\r\n      for (let index = 0; index < zhuangtais.length; index++) {\r\n        this.$axios\r\n          .get(\r\n            `http://localhost:8088/project/selectProjectByZhuangtai/?zhuangtai=${zhuangtais[index]}`\r\n          )\r\n          .then(function(response) {\r\n            that.$set(that.tongji, zhuangtais[index], response.data.length);\r\n          })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n          });\r\n      }\r\n\r\n      /**查询预算总和 */\r\n      this.$axios\r\n        .get(`http://localhost:8088/project/selectYusuanSum`)\r\n        .then(function(response) {\r\n          that.$set(that.tongji, \"项目预算总和\", response.data);\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n      /**查询已审核项目总预算  */\r\n      this.$axios\r\n        .get(\r\n          `http://localhost:8088/project/selectZhuangtaiYusuanSum/?zhuangtai=已审核`\r\n        )\r\n        .then(function(response) {\r\n          that.$set(that.tongji, \"已审核项目预算\", response.data);\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["admin_tongji.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin_tongji.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <div id=\"admin_tongji\">\r\n    <el-card>\r\n      <div slot=\"header\"></div>\r\n      <div>\r\n        <div v-if=\"true\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n              <el-card style=\"margin-bottom: 25px;\">\r\n                <div>\r\n                  <h1 style=\"font-size: 26px; margin-top: 5px;margin-bottom:5px;color: cadetblue;\">\r\n                    <span class=\"el-icon-s-data\"></span> 学院数量：6\r\n                  </h1>\r\n                </div>\r\n              </el-card>\r\n              <el-card>\r\n                <div>\r\n                  <h1 style=\"font-size: 26px; margin-top: 5px;margin-bottom:5px;color: lightcoral;\">\r\n                    <span class=\"el-icon-s-data\"></span>\r\n                    项目总数：{{proNum}}\r\n                  </h1>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n\r\n            <el-col :span=\"8\">\r\n              <el-card style=\"margin-bottom: 25px;\">\r\n                <div>\r\n                  <h1\r\n                    style=\"font-size: 26px; margin-top: 5px;margin-bottom:5px;color: darkturquoise;\"\r\n                  >\r\n                    <span class=\"el-icon-s-data\"></span>\r\n                    已审核项目数量：{{tongji.已审核}}\r\n                  </h1>\r\n                </div>\r\n              </el-card>\r\n              <el-card>\r\n                <div>\r\n                  <h1\r\n                    style=\"font-size: 26px; margin-top: 5px;margin-bottom:5px;color: lightskyblue;\"\r\n                  >\r\n                    <span class=\"el-icon-s-data\"></span>\r\n                    待审核项目数量：{{tongji.待审核}}\r\n                  </h1>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n\r\n            <el-col :span=\"8\">\r\n              <el-card style=\"margin-bottom: 25px;\">\r\n                <div>\r\n                  <h1 style=\"font-size: 26px; margin-top: 5px;margin-bottom:5px;color: #d65eb0;\">\r\n                    <span class=\"el-icon-s-data\"></span>\r\n                    竞赛项目总预算：￥{{tongji.项目预算总和}}\r\n                  </h1>\r\n                </div>\r\n              </el-card>\r\n              <el-card>\r\n                <div>\r\n                  <h1 style=\"font-size: 26px; margin-top: 5px;margin-bottom:5px;color: goldenrod;\">\r\n                    <span class=\"el-icon-s-data\"></span>\r\n                    已审核项目预算：￥{{tongji.已审核项目预算}}\r\n                  </h1>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <div id=\"统计图表\" style=\"height:550px;width:100%;margin-top: 50px;\"></div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"admin_tongji\",\r\n  data() {\r\n    return {\r\n      tongji: {},\r\n      proNum: 0\r\n    };\r\n  },\r\n  mounted() {\r\n    this.绘制图表();\r\n    this.统计();\r\n  },\r\n  methods: {\r\n    绘制图表() {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      let myChart = this.$echarts.init(document.getElementById(\"统计图表\"));\r\n      // 绘制图表\r\n      myChart.setOption({\r\n        title: { text: \"学科竞赛统计【按月份统计】\" },\r\n        tooltip: {},\r\n        xAxis: {\r\n          data: []\r\n        },\r\n        yAxis: {},\r\n        series: [\r\n          {\r\n            name: \"竞赛数量\",\r\n            type: \"bar\",\r\n            data: []\r\n          }\r\n        ]\r\n      });\r\n      this.$axios\r\n        .get(\"http://localhost:8088/comp/selectCompDateByTheMonth\")\r\n        .then(function(response) {\r\n          // 填入数据\r\n          myChart.setOption({\r\n            xAxis: {\r\n              data: response.data.mont\r\n            },\r\n            series: [\r\n              {\r\n                // 根据名字对应到相应的系列\r\n                name: \"竞赛数量\",\r\n                data: response.data.count\r\n              }\r\n            ]\r\n          });\r\n        })\r\n        .catch(function(error) {\r\n          that.$message.error(error);\r\n          console.log(error);\r\n        });\r\n    },\r\n    统计() {\r\n      let that = this;\r\n      /**查询 已审核、待审核项目数量 */\r\n      const zhuangtais = [\"已审核\", \"待审核\"];\r\n      for (let index = 0; index < zhuangtais.length; index++) {\r\n        this.$axios\r\n          .get(\r\n            `http://localhost:8088/project/selectProjectByZhuangtai/?zhuangtai=${zhuangtais[index]}`\r\n          )\r\n          .then(function(response) {\r\n            that.$set(that.tongji, zhuangtais[index], response.data.length);\r\n          })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n          });\r\n      }\r\n\r\n      /**查询预算总和 */\r\n      this.$axios\r\n        .get(`http://localhost:8088/project/selectYusuanSum`)\r\n        .then(function(response) {\r\n          that.$set(that.tongji, \"项目预算总和\", response.data);\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n      /**查询已审核项目总预算  */\r\n      this.$axios\r\n        .get(\r\n          `http://localhost:8088/project/selectZhuangtaiYusuanSum/?zhuangtai=已审核`\r\n        )\r\n        .then(function(response) {\r\n          that.$set(that.tongji, \"已审核项目预算\", response.data);\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>"]}]}