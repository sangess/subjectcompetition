{"remainingRequest":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IDEA_workspace2\\subject-vue\\src\\views\\teacher\\teacher_comp.vue?vue&type=template&id=68831a6c&%3A%3Akey=key&","dependencies":[{"path":"D:\\IDEA_workspace2\\subject-vue\\src\\views\\teacher\\teacher_comp.vue","mtime":1621186175629},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div id=\"teacher_comp\">\n  <el-card style=\"    margin-bottom: 20px; height: 100%\">\n    <div slot=\"header\">\n\n      <el-row :gutter=\"10\">\n        <el-col :span=\"8\">\n          <span>竞赛列表</span>\n        </el-col>\n        <el-col :span=\"16\">\n          <el-button type=\"text\" style=\"float:right;\" @click=\"导出为Excel('全部竞赛')\">导出为Excel</el-button>\n        </el-col>\n      </el-row>\n    </div>\n    <div>\n      <el-row :gutter=\"10\">\n        <el-form ref=\"searchFormData\" :model=\"searchFormData\" label-width=\"80px\">\n          <el-col :span=\"4\">\n            <el-form-item label=\"竞赛名称\" prop=\"compName\">\n              <el-input v-model=\"searchFormData.compName\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-form-item label=\"主办单位\" prop=\"organizer\">\n              <el-input v-model=\"searchFormData.organizer\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-form-item label=\"竞赛级别\" prop=\"level\">\n              <el-select v-model=\"searchFormData.level\" placeholder=\"请选择竞赛级别\">\n                <el-option label=\"国家级\" value=\"0\"></el-option>\n                <el-option label=\"省级\" value=\"1\"></el-option>\n                <el-option label=\"校级\" value=\"2\"></el-option>\n                <el-option label=\"全部\" value></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-form-item label=\"所属学科\" prop=\"subjectType\">\n              <el-input v-model=\"searchFormData.subjectType\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-form-item label=\"竞赛地点\" prop=\"place\">\n              <el-input v-model=\"searchFormData.place\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-form-item label=\"竞赛状态\" prop=\"compState\">\n              <el-select v-model=\"searchFormData.compState\" placeholder=\"请选择竞赛状态\">\n                <el-option label=\"规划中\" value=0></el-option>\n                <el-option label=\"报名中\" value=1></el-option>\n                <el-option label=\"备赛中\" value=2></el-option>\n                <el-option label=\"进行中\" value=3></el-option>\n                <el-option label=\"已结束\" value=4></el-option>\n                <el-option label=\"全部\" value></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-form>\n      </el-row>\n      <el-row>\n        <el-col :span=\"3\" :offset=\"21\">\n          <el-button\n            type=\"primary\"\n            size=\"medium\"\n            icon=\"el-icon-search\"\n            style=\"    float: right;\"\n            @click=\"moreSearch()\"\n          >筛选 / 查询</el-button>\n        </el-col>\n      </el-row>\n    </div>\n    <el-table\n            id=\"全部竞赛\"\n      v-loading=\"loading\"\n      :data=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\n      stripe\n      border\n      height=\"400px\"\n      style=\"width: 100%;\"\n      class=\"elTable\"\n      @row-click=\"getDetails\"\n      :default-sort = \"{prop: 'date', order: 'descending'}\"\n    >\n      <el-table-column align=\"center\" prop=\"id\" label=\"#\" width=\"50px\" sortable></el-table-column>\n      <el-table-column align=\"center\" prop=\"compName\" label=\"竞赛名称\" sortable></el-table-column>\n      <el-table-column align=\"center\" prop=\"organizer\" label=\"主办单位\" sortable></el-table-column>\n      <el-table-column align=\"center\" prop=\"level\" label=\"级 别\" sortable>\n        <template slot-scope=\"scope\">\n          <p v-if=\"scope.row.level==0\">国家级</p>\n          <p v-if=\"scope.row.level==1\">省级</p>\n          <p v-if=\"scope.row.level==2\">校级</p>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"subjectType\" label=\"所属学科\" sortable></el-table-column>\n      <el-table-column align=\"center\" prop=\"occurrenceTime\" label=\"竞赛时间\" sortable>\n        <template slot-scope=\"scope\">\n          {{scope.row.occurrenceTime|dataTime}}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"place\" label=\"竞赛地点\" sortable></el-table-column>\n      <el-table-column align=\"center\" prop=\"竞赛项目\" label=\"竞赛项目\" >\n        <template slot-scope=\"scope\">\n          <el-link type=\"primary\" :underline=\"false\" @click=\"checkProjects(scope.row.id)\"><i class=\"el-icon-view el-icon--right\"></i> 参赛项目列表</el-link>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"compState\" label=\"状态\" sortable>\n        <template slot-scope=\"scope\">\n          <el-tag  effect=\"dark\"\n                   :type=\"scope.row.compState === 0 ? 'info' :       /*规划中*/\n            (scope.row.compState === 1 ? 'primary':       /*可报名*/\n            (scope.row.compState === 2 ? 'success':       /*备赛中*/\n            (scope.row.compState === 3 ? 'warning':       /*比赛中*/\n            'danger')))\"\n                   disable-transitions\n          >\n            <span v-if=\"scope.row.compState==0\">规划中</span>\n            <span v-if=\"scope.row.compState==1\">报名中</span>\n            <span v-if=\"scope.row.compState==2\">备赛中</span>\n            <span v-if=\"scope.row.compState==3\">比赛中</span>\n            <span v-if=\"scope.row.compState==4\">已结束</span>\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"申请状态\" width=\"80px\" >\n        <template slot-scope=\"scope\">\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"scope.row.applyState==3?'申请项目':(scope.row.applyState==1||scope.row.applyState==4?'学院正在申请，请耐心等待':'学院尚未申请竞赛，无法申请项目')\" placement=\"top\">\n            <el-button :icon=\"scope.row.applyState==3?'el-icon-folder-add':'el-icon-folder-delete'\" :type=\"scope.row.applyState==3?'success':'info'\" :disabled=\"scope.row.applyState!=3\" circle @click=\"applyProjectFormVisible = true,compId=scope.row.id\"></el-button>\n          </el-tooltip>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div id=\"fenye\">\n      <!-- 设置layout，表示需要显示的内容，用逗号分隔，布局元素会依次显示。\n        prev表示上一页，next为下一页，pager表示页码列表，\n        除此以外还提供了jumper和total，size和特殊的布局符号->，->后的元素会靠右显示，\n        jumper表示跳页元素，\n        total表示总条目数，\n        page-size  每页多少条数据\n        @current-change=\"current_change\" //currentPage改变时会触发\n      size用于设置每页显示的页码数量。-->\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :total=\"tableData.length\"\n        :page-size=\"12\"\n        @current-change=\"current_change\"\n        :current-page.sync=\"currentPage\"\n      ></el-pagination>\n    </div>\n  </el-card>\n  <!---------------------------------项目申请填写的弹出框------------------------------------>\n  <el-dialog title=\"项目申报\"  :visible.sync=\"applyProjectFormVisible\">\n    <el-form :model=\"applyProjectForm\" ref=\"applyProjectForm\" style=\"width: 300px\":label-width=\"formLabelWidth\" label-position=\"left\" :rules=\"rules\">\n      <el-form-item label=\"申请老师\" >\n        <el-input :value=\"this.$store.state.nickname\" disabled autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"项目名称\" prop=\"projectName\">\n        <el-input v-model=\"applyProjectForm.projectName\"  autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"项目预支\" prop=\"pay\">\n        <el-input type=\"age\" v-model.number=\"applyProjectForm.pay\"  autocomplete=\"off\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"applyProjectFormVisible = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"applyProject('applyProjectForm')\">确认申报</el-button>\n    </div>\n  </el-dialog>\n  <!-- 竞赛项目展示模态框 -->\n  <el-dialog title=\"竞赛项目列表\" :visible.sync=\"projectVisible\">\n    <el-table :data=\"projectData\" stripe border style=\"width: 100%\" max-height=\"500\">\n      <el-table-column align=\"center\" prop=\"id\" label=\"项目编号\" width=\"80px\"></el-table-column>\n      <el-table-column align=\"center\" prop=\"projectName\" label=\"项目名称\"></el-table-column>\n      <el-table-column align=\"center\" prop=\"createByTeacher.college.nickname\" label=\"所属学院\"></el-table-column>\n      <el-table-column align=\"center\" prop=\"createByTeacher.nickname\" label=\"指导老师\" width=\"120px\"></el-table-column>\n      <el-table-column align=\"center\" prop=\"pay\" label=\"预算\"></el-table-column>\n      <el-table-column align=\"center\" prop=\"applyState\" label=\"状态\">\n        <template slot-scope=\"scope\">\n          <el-tag\n                  :type=\"scope.row.applyState === 1 ? 'success' : 'warning'\"\n                  disable-transitions\n          >{{scope.row.applyState==1?'已审核':'未审核'}}</el-tag>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-dialog>\n</div>\n",null]}