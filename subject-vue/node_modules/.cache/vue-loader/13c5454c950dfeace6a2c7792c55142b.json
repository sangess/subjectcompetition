{"remainingRequest":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IDEA_workspace2\\subject-vue\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IDEA_workspace2\\subject-vue\\src\\views\\Login.vue","mtime":1622056337533},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IDEA_workspace2\\subject-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '../main.js'\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      iisActive:false,\n      aisActive:false,\n      form: {\n        username: \"\",\n        password: \"\",\n        token:\"\",\n      },\n      rules: {\n        username: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" }\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"change\" }\n        ],\n        token: [\n          { required: true, message: \"请选择登陆身份\", trigger: \"change\" }\n        ]\n      }\n    };\n  },\n  mounted() {\n  },\n  methods: {\n    addActive(){\n      this.iisActive=true;\n    },\n    removeActive(){\n      this.iisActive=false;\n    },\n    adActive(){\n      this.aisActive=true;\n    },\n    emoveActive(){\n      this.aisActive=false;\n    },\n\n    loginUser() {\n      var that = this;\n      this.$axios\n              .post(api+\"/login\", that.form)\n              .then(function(response) {\n                switch (response.data.code) {\n                  case 2001:\n                    //登陆失败\n                    that.$message({\n                      type: \"error\",\n                      message: response.data.message\n                    });\n                    break;\n                  case 2003:\n                    //登陆成功\n                    //更改store 登陆状态\n                    that.$store.commit(\"loginTure\", true);\n                    that.$store.commit(\"setUsername\",response.data.user.username);\n                    that.$store.commit(\"setNickname\",response.data.user.nickname);\n                    that.$store.commit(\"setToken\",response.data.user.token);\n                    that.$store.commit(\"setReceiver\",response.data.user.targetId);\n                    that.$store.commit(\"setId\",response.data.user.id);\n                    console.log(response.data.user);\n                    //将username存入本地\n                    window.sessionStorage.setItem(\"username\", response.data.user.username);\n                    //将token存入本地\n                    window.sessionStorage.setItem(\"token\", response.data.user.token);\n                    //将nickname存入本地\n                    window.sessionStorage.setItem(\"nickname\", response.data.user.nickname);\n                    //将targetId存入本地\n                    window.sessionStorage.setItem(\"receiver\", response.data.user.targetId);\n                    //将id存入本地\n                    window.sessionStorage.setItem(\"id\", response.data.user.id);\n                    //将islogin存入本地\n                    window.sessionStorage.setItem(\"islogin\", true);\n                    that.$message({\n                      message: response.data.message,\n                      type: \"success\"\n                    });\n\n                    //跳转页面\n                    switch (response.data.user.token) {\n                      case \"admin\":\n                        that.$router.push({ path: \"/admin\" });\n                        break;\n                      case \"college\":\n                        that.$router.push({ path: \"/college\" });\n                        break;\n                      case \"student\":\n                        that.$router.push({ path: \"/student\" });\n                        break;\n                      case \"teacher\":\n                        that.$router.push({ path: \"/teacher\" });\n                        break;\n                    }\n                    break;\n                  default:\n                    //提示信息\n                    that.$message({\n                      message: response.data.message,\n                      type: \"error\"\n                    });\n                    break;\n                }\n              })\n              .catch(function(error) {\n                console.log(\"error\");\n                console.log(error);\n              });\n    },\n    submitForm(formName) {\n      var that = this;\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          that.loginUser();\n        } else {\n          return false;\n        }\n      });\n    }\n  },\n\n\n\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n      <div v-bind:class=\"[{aactive:iisActive},'errorClass']\"></div>\r\n\r\n      <div @mouseover=\"addActive\" @mouseleave=\"removeActive\" >\r\n        <div @mouseover=\"adActive\" @mouseleave=\"emoveActive\" >\r\n\r\n          <el-card id=\"form\" style=\"padding: 0\">\r\n            <div v-bind:class=\"[{aa:aisActive},'errorClass']\">\r\n              <div slot=\"header\" style=\"padding:-1px\">\r\n                <img src=\"../assets/img/logo1.png\" alt />\r\n              </div>\r\n              <div style=\"padding: 0px 0px 0px 0px;\">\r\n                <el-form ref=\"form\" :model=\"form\" label-width=\"100px\" :rules=\"rules\" style=\"color: #080808\">\r\n                  <el-form-item label=\"用户名\" prop=\"username\" style=\"margin: 5px 70px 40px 15px\">\r\n                    <el-input  v-model=\"form.username\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"密码\" prop=\"password\" style=\"margin: 5px 70px 40px 15px\">\r\n                    <el-input type=\"password\" v-model=\"form.password\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"登录身份\" prop=\"token\" style=\"margin:0 0 15px 15px\">\r\n                    <el-radio-group v-model=\"form.token\" class=\"right\" >\r\n                      <el-radio class=\"radio_labels\" label=\"student\" value=\"student\" >学生</el-radio>\r\n                      <el-radio class=\"radio_labels\" label=\"teacher\" value=\"teacher\">教师</el-radio>\r\n                      <el-radio class=\"radio_labels\" label=\"college\" value=\"college\">学院管理员</el-radio>\r\n                      <el-radio class=\"radio_labels\" label=\"admin\" value=\"admin\">校级管理员</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                  <el-button\r\n                          style=\"width: 80%;margin-top: 10px;\"\r\n                          type=\"primary\"\r\n                          round\r\n                          @click=\"submitForm('form')\"\r\n                  >登 录</el-button>\r\n                </el-form>\r\n\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n    <div class=\"dong\">\r\n      <ul>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n      </ul>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n<style scoped>\r\n  .el-card /deep/ .el-card__body{\r\n    padding: 0;\r\n  }\r\n</style>\r\n<script>\r\n  import api from '../main.js'\r\n  export default {\r\n    name: \"home\",\r\n    data() {\r\n      return {\r\n        iisActive:false,\r\n        aisActive:false,\r\n        form: {\r\n          username: \"\",\r\n          password: \"\",\r\n          token:\"\",\r\n        },\r\n        rules: {\r\n          username: [\r\n            { required: true, message: \"请输入用户名\", trigger: \"blur\" }\r\n          ],\r\n          password: [\r\n            { required: true, message: \"请输入密码\", trigger: \"change\" }\r\n          ],\r\n          token: [\r\n            { required: true, message: \"请选择登陆身份\", trigger: \"change\" }\r\n          ]\r\n        }\r\n      };\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n      addActive(){\r\n        this.iisActive=true;\r\n      },\r\n      removeActive(){\r\n        this.iisActive=false;\r\n      },\r\n      adActive(){\r\n        this.aisActive=true;\r\n      },\r\n      emoveActive(){\r\n        this.aisActive=false;\r\n      },\r\n\r\n      loginUser() {\r\n        var that = this;\r\n        this.$axios\r\n                .post(api+\"/login\", that.form)\r\n                .then(function(response) {\r\n                  switch (response.data.code) {\r\n                    case 2001:\r\n                      //登陆失败\r\n                      that.$message({\r\n                        type: \"error\",\r\n                        message: response.data.message\r\n                      });\r\n                      break;\r\n                    case 2003:\r\n                      //登陆成功\r\n                      //更改store 登陆状态\r\n                      that.$store.commit(\"loginTure\", true);\r\n                      that.$store.commit(\"setUsername\",response.data.user.username);\r\n                      that.$store.commit(\"setNickname\",response.data.user.nickname);\r\n                      that.$store.commit(\"setToken\",response.data.user.token);\r\n                      that.$store.commit(\"setReceiver\",response.data.user.targetId);\r\n                      that.$store.commit(\"setId\",response.data.user.id);\r\n                      console.log(response.data.user);\r\n                      //将username存入本地\r\n                      window.sessionStorage.setItem(\"username\", response.data.user.username);\r\n                      //将token存入本地\r\n                      window.sessionStorage.setItem(\"token\", response.data.user.token);\r\n                      //将nickname存入本地\r\n                      window.sessionStorage.setItem(\"nickname\", response.data.user.nickname);\r\n                      //将targetId存入本地\r\n                      window.sessionStorage.setItem(\"receiver\", response.data.user.targetId);\r\n                      //将id存入本地\r\n                      window.sessionStorage.setItem(\"id\", response.data.user.id);\r\n                      //将islogin存入本地\r\n                      window.sessionStorage.setItem(\"islogin\", true);\r\n                      that.$message({\r\n                        message: response.data.message,\r\n                        type: \"success\"\r\n                      });\r\n\r\n                      //跳转页面\r\n                      switch (response.data.user.token) {\r\n                        case \"admin\":\r\n                          that.$router.push({ path: \"/admin\" });\r\n                          break;\r\n                        case \"college\":\r\n                          that.$router.push({ path: \"/college\" });\r\n                          break;\r\n                        case \"student\":\r\n                          that.$router.push({ path: \"/student\" });\r\n                          break;\r\n                        case \"teacher\":\r\n                          that.$router.push({ path: \"/teacher\" });\r\n                          break;\r\n                      }\r\n                      break;\r\n                    default:\r\n                      //提示信息\r\n                      that.$message({\r\n                        message: response.data.message,\r\n                        type: \"error\"\r\n                      });\r\n                      break;\r\n                  }\r\n                })\r\n                .catch(function(error) {\r\n                  console.log(\"error\");\r\n                  console.log(error);\r\n                });\r\n      },\r\n      submitForm(formName) {\r\n        var that = this;\r\n        this.$refs[formName].validate(valid => {\r\n          if (valid) {\r\n            that.loginUser();\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n\r\n\r\n  };\r\n</script>\r\n\r\n<style>\r\n  * {\r\n    box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  body {\r\n    margin: 0 auto;\r\n    padding: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    font: 14px Helvetica Neue,Helvetica,PingFang SC,微软雅黑,Tahoma,Arial,sans-serif;\r\n    color: #fff;\r\n    over-overflow:hidden;\r\n\r\n  }\r\n  /* 选中后的字体颜色 */\r\n  .el-radio__input.is-checked + .el-radio__label {\r\n    color: #000000 !important;\r\n  }\r\n  /* 选中后小圆点的颜色 */\r\n  .el-radio__input.is-checked .el-radio__inner {\r\n    background: rgb(0, 3, 4) !important;\r\n    border-color: #000000 !important;\r\n  }\r\n  #form {\r\n    text-align: center;\r\n    right: 0;\r\n    width: 550px;\r\n    height: 450px;\r\n    position: absolute;\r\n    z-index: 1500;\r\n    left: 50%;\r\n    margin-left: -300px;\r\n    top: 50%;\r\n    margin-top: -250px;\r\n    padding: 0;\r\n    box-shadow: -15px 15px 15px rgba(6, 17, 47, 0.7);\r\n    opacity: 1;\r\n    background: linear-gradient(\r\n            230deg,\r\n            rgba(53, 57, 74, 0) 100%,\r\n            rgb(0, 0, 0) 100%)\r\n  }\r\n  .aa{\r\n    position: absolute;\r\n    width: 548px;\r\n    height: 448px;\r\n    background: linear-gradient(to bottom right, rgba(46, 238, 233, 0.46), rgba(113, 191, 76, 0.64));\r\n    background: -webkit-linear-gradient(to bottom right,rgba(46, 238, 233, 0.46),rgba(113, 191, 76, 0.64));\r\n  }\r\n\r\n  .home {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    background: linear-gradient(to bottom right, rgba(46, 238, 233, 0.46),#a3a043);\r\n    background: -webkit-linear-gradient(to bottom right,rgba(46, 238, 233, 0.46),#a3a043);\r\n  }\r\n  .dong ul {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: -10;\r\n  }\r\n  .dong ul li {\r\n    list-style-type: none;\r\n    display: block;\r\n    position: absolute;\r\n    bottom: -120px;\r\n    border-radius: 20px;\r\n    width: 15px;\r\n    height: 15px;\r\n    z-index: -8;\r\n    background-color: rgba(77, 237, 236, 0.35);\r\n    animotion: square 15s infinite;\r\n    -webkit-animation: square 15s infinite;\r\n  }\r\n  .dong ul li:nth-child(1) {\r\n    left: 0;\r\n    animation-duration: 10s;\r\n    -moz-animation-duration: 10s;\r\n    -o-animation-duration: 10s;\r\n    -webkit-animation-duration: 10s;\r\n  }\r\n  .dong ul li:nth-child(2) {\r\n    width: 40px;\r\n    height: 40px;\r\n    left: 10%;\r\n    animation-duration: 15s;\r\n    -moz-animation-duration: 15s;\r\n    -o-animation-duration: 15s;\r\n    -webkit-animation-duration: 15s;\r\n  }\r\n  .dong ul li:nth-child(3) {\r\n    left: 20%;\r\n    width: 25px;\r\n    height: 25px;\r\n    animation-duration: 12s;\r\n    -moz-animation-duration: 12s;\r\n    -o-animation-duration: 12s;\r\n    -webkit-animation-duration: 12s;\r\n  }\r\n  .dong ul li:nth-child(4) {\r\n    width: 50px;\r\n    height: 50px;\r\n    left: 30%;\r\n    -webkit-animation-delay: 3s;\r\n    -moz-animation-delay: 3s;\r\n    -o-animation-delay: 3s;\r\n    animation-delay: 3s;\r\n    animation-duration: 12s;\r\n    -moz-animation-duration: 12s;\r\n    -o-animation-duration: 12s;\r\n    -webkit-animation-duration: 12s;\r\n  }\r\n  .dong ul li:nth-child(5) {\r\n    width: 60px;\r\n    height: 60px;\r\n    left: 40%;\r\n    animation-duration: 10s;\r\n    -moz-animation-duration: 10s;\r\n    -o-animation-duration: 10s;\r\n    -webkit-animation-duration: 10s;\r\n  }\r\n  .dong ul li:nth-child(6) {\r\n    width: 75px;\r\n    height: 75px;\r\n    left: 50%;\r\n    -webkit-animation-delay: 7s;\r\n    -moz-animation-delay: 7s;\r\n    -o-animation-delay: 7s;\r\n    animation-delay: 7s;\r\n  }\r\n  .dong ul li:nth-child(7) {\r\n    left: 60%;\r\n    animation-duration: 8s;\r\n    -moz-animation-duration: 8s;\r\n    -o-animation-duration: 8s;\r\n    -webkit-animation-duration: 8s;\r\n  }\r\n  .dong ul li:nth-child(8) {\r\n    width: 90px;\r\n    height: 90px;\r\n    left: 70%;\r\n    -webkit-animation-delay: 4s;\r\n    -moz-animation-delay: 4s;\r\n    -o-animation-delay: 4s;\r\n    animation-delay: 4s;\r\n  }\r\n  .dong ul li:nth-child(9) {\r\n    width: 100px;\r\n    height: 100px;\r\n    left: 80%;\r\n    animation-duration: 20s;\r\n    -moz-animation-duration: 20s;\r\n    -o-animation-duration: 20s;\r\n    -webkit-animation-duration: 20s;\r\n  }\r\n  .dong ul li:nth-child(10) {\r\n    width: 120px;\r\n    height: 120px;\r\n    left: 90%;\r\n    -webkit-animation-delay: 6s;\r\n    -moz-animation-delay: 6s;\r\n    -o-animation-delay: 6s;\r\n    animation-delay: 6s;\r\n    animation-duration: 30s;\r\n    -moz-animation-duration: 30s;\r\n    -o-animation-duration: 30s;\r\n    -webkit-animation-duration: 30s;\r\n  }\r\n  label{\r\n    color: #000000;\r\n    font-weight: bold;\r\n  }\r\n\r\n  @keyframes square {\r\n    0%  {\r\n      -webkit-transform: translateY(0);\r\n      transform: translateY(0)\r\n    }\r\n    100% {\r\n      bottom: 400px;\r\n      transform: rotate(600deg);\r\n      -webit-transform: rotate(600deg);\r\n      -webkit-transform: translateY(-800);\r\n      transform: translateY(-500)\r\n    }\r\n  }\r\n  @-webkit-keyframes square {\r\n    0%  {\r\n      -webkit-transform: translateY(0);\r\n      transform: translateY(0)\r\n    }\r\n    100% {\r\n      bottom: 400px;\r\n      transform: rotate(600deg);\r\n      -webit-transform: rotate(600deg);\r\n      -webkit-transform: translateY(-500);\r\n      transform: translateY(-500)\r\n    }\r\n  }\r\n\r\n  .aactive {\r\n    width:100%;\r\n    height:100%;\r\n    background-color:#000;\r\n    filter:alpha(opacity=30);\r\n    -moz-opacity:0.3;\r\n    opacity:0.3;\r\n    position:absolute;\r\n    left:0px;\r\n    top:0px;\r\n    z-index:1000;\r\n  }\r\n\r\n\r\n\r\n</style>"]}]}